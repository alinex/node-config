<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Usage</title>
    <meta name="HandheldFriendly" content="true" />
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/highlight.js/8.5.0/styles/solarized_light.min.css" /><style type="text/css">#topnav{text-align:center;background:#333;padding-bottom:20px;position:fixed;margin-top:0;width:100%;bottom:0;top:51px;}#topnav .navbar-nav{margin:0;margin-top:8px;display:-webkit-inline-box;display:-moz-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-box;display:inline-flex}#topnav .sidebar-to-top .btn{text-align:left}#topnav .sidebar-to-top li.level2>a{margin-left:20px}#topnav .sidebar-to-top li.level3>a{margin-left:40px}#topnav .sidebar-to-top li.level4>a{margin-left:60px}#topnav .sidebar-to-top li.level5>a{margin-left:80px}#topnav .sidebar-to-top li.level6>a{margin-left:100px}.navbar-fixed-top .navbar-collapse{max-height:100%}.navbar{min-width:300px}.nav>li{padding:2px 12px}.navbar-inverse .nav>li>a{color:#222;font-weight:bold;padding-top:6px;padding-bottom:6px;}.navbar-inverse .nav>li>a:focus,.navbar-inverse .nav>li>a:hover{background:#73aad8;background:#4b91cd -webkit-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -moz-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -o-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -ms-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd linear-gradient(180deg, #73aad8, #4b91cd) repeat-x}.navbar-inverse .nav>li>a.btn-warning:focus,.navbar-inverse .nav>li>a.btn-warning:hover{background:#ec9721;background:#c97c11 -webkit-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -moz-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -o-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -ms-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 linear-gradient(180deg, #ec9721, #c97c11) repeat-x}.navbar-spacer{height:51px}.btn-warning:active,.btn-primary:active{-webkit-transform:scale(.92);-moz-transform:scale(.92);-o-transform:scale(.92);-ms-transform:scale(.92);transform:scale(.92)}.btn-warning{background:#f2b560;background:#ee9f31 -webkit-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -moz-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -o-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -ms-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 linear-gradient(180deg, #f2b560, #ee9f31) repeat-x}.btn-primary{background:#3d88c9;background:#2e6ea5 -webkit-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -moz-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -o-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -ms-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 linear-gradient(180deg, #3d88c9, #2e6ea5) repeat-x}.sidebar .nav{display:none;list-style:disc;padding-left:25px;}.sidebar .nav>li{display:list-item;}.sidebar .nav>li>a{color:#222;}.sidebar .nav>li>a:active{-webkit-box-shadow:0 2px 10px 2px rgba(0,0,0,0.25);box-shadow:0 2px 10px 2px rgba(0,0,0,0.25)}.sidebar .nav>li>a:hover{background:#3d88c9;background:#2e6ea5 -webkit-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -moz-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -o-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -ms-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 linear-gradient(180deg, #3d88c9, #2e6ea5) repeat-x;color:#fff}.sidebar .nav>li.header,.sidebar .nav>li.active{display:none}.sidebar .nav>li.active>a{background:#73aad8;background:#4b91cd -webkit-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -moz-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -o-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd -ms-linear-gradient(270deg, #73aad8, #4b91cd) repeat-x;background:#4b91cd linear-gradient(180deg, #73aad8, #4b91cd) repeat-x;}.sidebar .nav>li.active>a:hover{background:#3d88c9;background:#2e6ea5 -webkit-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -moz-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -o-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 -ms-linear-gradient(270deg, #3d88c9, #2e6ea5) repeat-x;background:#2e6ea5 linear-gradient(180deg, #3d88c9, #2e6ea5) repeat-x;color:#fff}.sidebar .nav>li.header>a{font-weight:bold;background:#f2b560;background:#ee9f31 -webkit-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -moz-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -o-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 -ms-linear-gradient(270deg, #f2b560, #ee9f31) repeat-x;background:#ee9f31 linear-gradient(180deg, #f2b560, #ee9f31) repeat-x;}.sidebar .nav>li.header>a:hover{background:#ec9721;background:#c97c11 -webkit-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -moz-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -o-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 -ms-linear-gradient(270deg, #ec9721, #c97c11) repeat-x;background:#c97c11 linear-gradient(180deg, #ec9721, #c97c11) repeat-x;color:#fff}.sidebar .nav>li.level2>a{padding-left:30px}.sidebar .nav>li.level3>a{padding-left:50px}.sidebar .nav>li.level4>a{padding-left:70px}.sidebar .nav>li.level5>a,.sidebar .nav>li.level6>a{padding-left:90px}.navbar-inverse .navbar-toggle{background-color:#444;}.navbar-inverse .navbar-toggle:hover{background-color:#666}@media (min-width:768px){#topnav{position:inherit;background:#222;padding-bottom:0}#topnav .nav>li{padding:0 4px}#topnav .sidebar-to-top{display:none}.navbar-right{margin-right:0}.navbar-nav >li>a{padding:6px 10px}.sidebar{overflow:auto;position:fixed;top:51px;left:0;bottom:0;background:#ddd;padding:0;}.sidebar h1,.sidebar h2{display:none}.sidebar .nav{display:block;list-style:none;padding-left:0;}.sidebar .nav>li{padding:0;}.sidebar .nav>li.header,.sidebar .nav>li.active{display:block;}.sidebar .nav>li.header.level2>a:before,.sidebar .nav>li.active.level2>a:before,.sidebar .nav>li.header.level3>a:before,.sidebar .nav>li.active.level3>a:before,.sidebar .nav>li.header.level4>a:before,.sidebar .nav>li.active.level4>a:before,.sidebar .nav>li.header.level5>a:before,.sidebar .nav>li.active.level5>a:before,.sidebar .nav>li.header.level6>a:before,.sidebar .nav>li.active.level6>a:before{content:"•"}.sidebar .nav>li>a{padding-top:8px;padding-bottom:8px}.sidebar .nav>li.level2>a:before,.sidebar .nav>li.level3>a:before,.sidebar .nav>li.level4>a:before,.sidebar .nav>li.level5>a:before,.sidebar .nav>li.level6>a:before{content:"◦";font-size:150%;line-height:10%;font-weight:bold;padding-right:5px;display:block;float:left;margin-top:8px;margin-left:-15px;color:#666}}img.preload{display:none}body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:1.2;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;-webkit-hyphenate-before:2;-webkit-hyphenate-after:3;hyphenate-lines:3;min-width:300px}h1,h2,h3,h4,h5,h6{font-weight:bold;}h1:before,h2:before,h3:before,h4:before,h5:before,h6:before{display:block;content:" ";margin-top:-66px;height:66px;visibility:hidden}h1,h2,h3{clear:both}h1{border-bottom:3px solid #222;padding-bottom:5px}h2{border-bottom:2px dotted #222;padding-bottom:3px}h3{border-bottom:2px dotted #aaa;padding-bottom:2px}h4{border-bottom:1px dotted #aaa}dt{font-weight:bold;margin-top:8px}dd{margin-left:20px}blockquote{border:1px solid #eee;border-radius:3px;border-left:5px solid #337ab7;padding:5px 15px;margin:10px 0;}blockquote ul li p{margin-bottom:0}svg,img{max-width:100%}table{border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all;margin-bottom:10px;}table th,table td{padding:6px 13px;border:1px solid #ddd}table th{background-color:rgba(0,0,0,0.04);font-weight:bold;border-bottom:3px solid #999}table tr{background-color:#fff;border-top:1px solid #ccc;}table tr:nth-child(2n){background-color:rgba(0,0,0,0.04)}img{vertical-align:middle}.emoji{height:1em}abbr,acronym{border-bottom:dotted 1px}a code{color:#337ab7}code,tt{background-color:#fafafa;border-radius:4px;font-size:85%;margin:0;padding:.2em 0}pre{background-color:#fafafa;border-radius:10px;border:1px solid #a4a4a4;font-size:85%;margin:20px;padding:10px;}pre code,pre tt{background:none}pre.language{counter-reset:line;max-height:265px;padding-top:30px;padding-bottom:0;overflow-x:hidden;}pre.language code,pre.language tt{display:block;position:relative;float:left;width:100%;border-left:45px solid #ddd;margin-left:-10px;padding-left:5px;}pre.language code:before,pre.language tt:before{counter-increment:line;content:counter(line);min-width:35px;float:left;text-align:right;padding-right:5px;color:#808080;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none;margin-left:-45px}pre.language code:first-of-type,pre.language tt:first-of-type{padding-top:10px}pre.language code:last-child,pre.language tt:last-child{padding-bottom:10px}pre.language header{border-top-left-radius:4px;border-top-right-radius:4px;font-weight:bold;background:#fafafa;margin:-30px -10px 0 -10px;padding:5px 15px}pre.language.coffeescript header,pre.language.javascript header,pre.language.ruby header,pre.language.python header,pre.language.perl header,pre.language.cc header,pre.language.cpp header,pre.language.cs header,pre.language.java header,pre.language.jsp header,pre.language.groovy header,pre.language.php header,pre.language.bash header,pre.language.sql header,pre.language.makefile header{background:#f0ad4e}pre.language.json header,pre.language.cson header,pre.language.yaml header{background:#61b961}pre.language.handlebars header,pre.language.css header,pre.language.stylus header,pre.language.scss header,pre.language.less header,pre.language.markdown header{background:#76abca}ul.table-of-contents{max-width:100px;max-height:30px;overflow:hidden;position:fixed;top:51px;right:0;background:#ddd;padding:5px 15px;-webkit-transition:max-width 100ms ease 1.2s, max-height 1s ease 200ms;-moz-transition:max-width 100ms ease 1.2s, max-height 1s ease 200ms;-o-transition:max-width 100ms ease 1.2s, max-height 1s ease 200ms;-ms-transition:max-width 100ms ease 1.2s, max-height 1s ease 200ms;transition:max-width 100ms ease 1.2s, max-height 1s ease 200ms;border-left:2px solid #999;border-bottom:2px solid #999;border-bottom-left-radius:10px;list-style-type:none;white-space:nowrap;z-index:100;}ul.table-of-contents:hover{max-width:285px;max-height:248px;-webkit-transition:max-width 100ms ease, max-height 1s ease 100ms;-moz-transition:max-width 100ms ease, max-height 1s ease 100ms;-o-transition:max-width 100ms ease, max-height 1s ease 100ms;-ms-transition:max-width 100ms ease, max-height 1s ease 100ms;transition:max-width 100ms ease, max-height 1s ease 100ms;overflow-y:auto}ul.table-of-contents header{background:#999;font-weight:bold;margin:-5px -15px;padding:5px 15px}ul.table-of-contents>li{padding-bottom:2px;padding-right:8px;}ul.table-of-contents>li:first-of-type{padding-top:10px}ul.table-of-contents a{color:#222}ul.table-of-contents li.sidebar{display:list-item}@media (min-width:768px){ul.table-of-contents li.sidebar{display:none}}div.detail,div.info,div.warning,div.alert{padding:30px 10px 6px 10px;margin:5px 0 8px 0;border-radius:3px;padding-left:60px;border-radius:18px;border-top-left-radius:0;}div.detail>p,div.info>p,div.warning>p,div.alert>p{margin-bottom:0}div.detail header,div.info header,div.warning header,div.alert header{font-weight:bold;position:absolute;margin-top:-30px;margin-left:-60px;padding:3px 20px 3px 10px;border-bottom-right-radius:18px}div:before{content:'\24D8';color:#666;position:absolute;font-size:28px;font-weight:900;padding-top:5px;margin-left:-50px}div.detail{background-color:#fafafa;border:2px solid #ddd;padding-top:0}div.info{background-color:#9f9;background-image:-webkit-linear-gradient(top, #bfb 0%, #6d6 100%);background-image:-moz-linear-gradient(top, #bfb 0%, #6d6 100%);background-image:-o-linear-gradient(top, #bfb 0%, #6d6 100%);background-image:-ms-linear-gradient(top, #bfb 0%, #6d6 100%);background-image:linear-gradient(to bottom, #bfb 0%, #6d6 100%);border:2px solid #6d6;}div.info header{background-color:#6d6}div.info:before{content:'\24D8';text-shadow:0 -1px 0 #6d6}div.warning{background-color:#fc9;background-image:-webkit-linear-gradient(top, #f97 0%, #e86 100%);background-image:-moz-linear-gradient(top, #f97 0%, #e86 100%);background-image:-o-linear-gradient(top, #f97 0%, #e86 100%);background-image:-ms-linear-gradient(top, #f97 0%, #e86 100%);background-image:linear-gradient(to bottom, #f97 0%, #e86 100%);border:2px solid #e86;}div.warning header{background-color:#e86}div.warning:before{content:'\2605';text-shadow:0 -1px 0 #e86}div.alert{background-color:#f99;background-image:-webkit-linear-gradient(top, #faa 0%, #c00 100%);background-image:-moz-linear-gradient(top, #faa 0%, #c00 100%);background-image:-o-linear-gradient(top, #faa 0%, #c00 100%);background-image:-ms-linear-gradient(top, #faa 0%, #c00 100%);background-image:linear-gradient(to bottom, #faa 0%, #c00 100%);border:2px solid #c00;}div.alert header{background-color:#c00;color:#fff}div.alert:before{content:'\24D8';text-shadow:0 -1px 0 #c00}.cse .gsc-control-cse,.gsc-control-cse{padding:0 !important;}.cse .gsc-control-cse table tr,.gsc-control-cse table tr,.cse .gsc-control-cse table th,.gsc-control-cse table th,.cse .gsc-control-cse table td,.gsc-control-cse table td{border:0}.cse .gsc-control-cse .gsc-cursor-current-page,.gsc-control-cse .gsc-cursor-current-page{color:#fff !important}.cse .gsc-control-cse .gsc-webResult.gsc-result:hover,.gsc-control-cse .gsc-webResult.gsc-result:hover,.cse .gsc-control-cse .gsc-imageResult:hover,.gsc-control-cse .gsc-imageResult:hover{border-left:5px solid #337ab7;padding-left:3px}.cse .gsc-control-cse .gcsc-branding,.gsc-control-cse .gcsc-branding{display:none !important}.gsc-adBlock{display:none !important}@media print{.navbar-spacer,.table-of-contents,.sidebar{display:none}.main{left:0;width:100%}pre.language header{border-bottom:2px solid #999}}.text-red{color:#d13f19}.text-green{color:#2ecc40}.text-yellow{color:#ffdc00}.text-blue{color:#0074d9}.text-magenta{color:#f0f}.text-cyan{color:#0ff}.text-gray{color:#aaa}.bg-white{background-color:#fff}.center{text-align:center}.left{float:left}.right{float:right}.spacing{padding:10px}.hidden{display:none}@media (max-width:767px){.hidden-small{display:none}}@media (min-width:768px){.hidden-large{display:none}}</style>
  </head>

  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#topnav" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://alinex.github.io/" onmouseover="logo.src='https://alinex.github.io/images/Alinex-200.png'" onmouseout="logo.src='https://alinex.github.io/images/Alinex-black-200.png'">
  <img name="logo" src="https://alinex.github.io/images/Alinex-black-200.png" width="150" title="Alinex Homepage">
</a>
<img class="preload" src="https://alinex.github.io/images/Alinex-200.png" aria-hidden="true">

        </div>
        <div id="topnav" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://alinex.github.io/blog" class="btn btn-primary">
    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Blog
  </a></li>
<li><a href="https://alinex.github.io/develop" class="btn btn-primary">
    <span class="glyphicon glyphicon-book" aria-hidden="true"></span> Develop
  </a></li>
<li><a href="https://alinex.github.io/code.html" class="btn btn-warning">
    <span class="glyphicon glyphicon-cog" aria-hidden="true"></span> Code
  </a></li>

          </ul>
          <form class="navbar-form navbar-right">
            <input name="q" type="text" class="form-control" placeholder="Search...">
          </form>
          <ul class="nav sidebar-to-top">
                <li class="level0">
                  <a href="../README.md.html" title="Alinex Config: Readme (/README.md)" class="btn btn-primary">Readme</a>
                </li>
                <li class="level1">
                  <a href="architecture.md.html" title="Architecture (/src/architecture.md)" class="btn btn-primary">Architecture</a>
                </li>
                <li class="active level0">
                  <a href="index.coffee.html" title="API Usage (/src/index.coffee)" class="btn btn-warning">API Usage <span class="sr-only">(current)</span></a>
                </li>
                <li class="level0">
                  <a href="../Changelog.md.html" title="Version changes (/Changelog.md)" class="btn btn-primary">Version changes</a>
                </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="navbar-spacer"></div>

    <div class="container-fluid">
      <div class="row">

        <div class="col-sm-9 col-sm-push-3 main">
          <script>
  (function() {
    var cx = '010539487162786288372:chxqbheanxc';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:searchresults-only></gcse:searchresults-only>

          <main><p><ul class="table-of-contents" aria-hidden="true"><header>Index</header>
<li><a href="#setup-origin">Setup Origin</a>
<ul>
<li><a href="#origin-structure">Origin Structure</a></li>
<li><a href="#extend-origin-list">Extend Origin List</a>
<ul>
<li><a href="#pushoriginconf">pushOrigin(conf)</a></li>
<li><a href="#unshiftoriginconf">unshiftOrigin(conf)</a></li>
</ul>
</li>
<li><a href="#registering-applications">Registering Applications</a>
<ul>
<li><a href="#registerapp-basedir-setup">register(app, basedir, setup)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#setup-schema">Setup Schema</a>
<ul>
<li><a href="#setschema">setSchema()</a></li>
<li><a href="#setschemasync">setSchemaSync</a></li>
</ul>
</li>
<li><a href="#initialize">Initialize</a>
<ul>
<li><a href="#init">init()</a></li>
<li><a href="#initsync">initSync</a></li>
</ul>
</li>
<li><a href="#reload">Reload</a>
<ul>
<li><a href="#reload-2">reload()</a></li>
<li><a href="#reloadsync">reloadSync</a></li>
</ul>
</li>
<li><a href="#access">Access</a>
<ul>
<li><a href="#get">get()</a></li>
</ul>
</li>
<li><a href="#other-types">Other Types</a>
<ul>
<li><a href="#typesearch">typeSearch()</a></li>
<li><a href="#typesearchsync">typeSearchSync</a></li>
</ul>
</li>
<li><a href="#schema">Schema</a>
<ul>
<li><a href="#originimportschema">originImportSchema</a></li>
</ul>
</li>
<li><a href="#best-practice">Best Practice</a></li>
<li><a href="#events">Events</a></li>
</ul>
</p>
<h1 id="api-usage">API Usage</h1>
<blockquote>
<p>Path: <code>/src/index.coffee</code> compiled to <code>/lib/index.js</code></p>
</blockquote>
<p>This package will give you an easy way to load and use configuration settings
into your application or module.</p>
<h2 id="setup-origin">Setup Origin</h2>
<p>The origin is the place the configuration data comes from. For alinex-config you
have the possibility to specify multiple search paths, you can also overload
configurations with another file in higher priority and combine values from
different files together.
So the specification of the origin is the main part and is the base to build
the registry data.</p>
<h3 id="origin-structure">Origin Structure</h3>
<p>To setup the origin for the configuration module you have to extend the origin
list by adding a new origin object.</p>
<p>The single origin object describes where to find the configuration, what to use
and where to put them in the final data structure. <strong>Origin Import</strong> is the definition of origins to add to the internal list.</p>
<p>An  object with the following keys allowed: <code>uri</code>, <code>parser</code>, <code>filter</code>, <code>path</code>, <code>type</code>. The following entries have a specific format:</p>
<dl>
<dt><code>uri</code></dt>
<dd>
<p><strong>URI</strong> is the path to search with possible placeholders.</p>
<p>A text entry in which all control characters will be removed. It has to be at least 1 characters long.</p>
</dd>
<dt><code>parser</code></dt>
<dd>
<p><strong>Parser</strong> is the type to use for parsing the data.</p>
<p>A text entry which is optional. All control characters will be removed. Only the values: csv, yml, yaml, js, javascript, json, bson, cson, coffee, xml, ini, properties are allowed.</p>
</dd>
<dt><code>filter</code></dt>
<dd>
<p><strong>Filter</strong> is the part of the structure to use.</p>
<p>A text entry which is optional. All control characters will be removed. It has to be at least 1 characters long.</p>
</dd>
<dt><code>path</code></dt>
<dd>
<p><strong>Path</strong> is the position where to put it in the data structure.</p>
<p>A text entry which is optional. All control characters will be removed. It has to be at least 1 characters long.</p>
</dd>
<dt><code>type</code></dt>
<dd>
<p><strong>Type</strong> is the type of data in this origin.</p>
<p>A text entry which is optional. All control characters will be removed. Only the values: config, template are allowed.</p>
</dd>
</dl>
<p><strong>URI Type</strong></p>
<p>The following URI types are possible here:</p>
<ul>
<li>No Protocol =&gt; using the file protocol</li>
<li><code>file://</code> =&gt; load from local file</li>
<li><code>http://</code> or <code>https://</code> =&gt; load from web service</li>
</ul>
<p><strong>File search</strong></p>
<p>You may access files absolute from root or relative from current directory:</p>
<pre><code>file:///etc/myapp.yml   # absolute path
/etc/myapp.yml          # shortcut

file://config/myapp.yml # relative path
config/myapp.yaml       # shortcut
</code></pre>
<p>You can search by using asterisk as placeholder or a double asterisk to
go multiple level depth:</p>
<pre><code>/etc/myapp.*            # search for any extension
/etc/myapp/*.yml        # find all files with this extension
/etc/myapp/*            # find all files in the directory
/etc/myapp/* /*.yml     # find one level depth
/etc/myapp/**           # find all files in directory or subdirectories
/etc/myapp/** /*.yml    # find files in the directory or subdirectories
</code></pre>
<p>See more about the possible matchings at
<a href="https://alinex.github.io/node-fs/README.md.html#file%2Fpath%20matching">alinex-fs</a>.</p>
<p><strong>Web Services</strong></p>
<p>Like using files you may also always use a web service to get the configuration.
But keep in mind that your system may not start if the web service is down.</p>
<p>It is as easy as using files:</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code>config.pushOrigin</code>
<code>  uri: <span class="hljs-string">"http://echo.jsontest.com/key/value/one/two"</span></code>
<code>  path: <span class="hljs-string">'echo'</span></code></pre>
<p>This will result in the following configuration (after loaded via <code>init()</code>).</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code>echo:</code>
<code>  one: <span class="hljs-string">'two'</span></code>
<code>  key: <span class="hljs-string">'value'</span></code></pre>
<blockquote>
<p>Support for webservice formats like XML-RPC, JSON-RPC and SOAP may be integrated
later. Also the support of possibilities to specify the concrete request may be
extended on demand.</p>
</blockquote>
<p>Here you won’t have a search possibility.</p>
<p><strong>Parsing data</strong></p>
<p>The data loaded from the given URI will be parsed if it is a string. You may
set one of the following parsers in <code>parser</code> to use:</p>
<ul>
<li>yaml</li>
<li>json</li>
<li>xml</li>
<li>ini</li>
<li>properties</li>
<li>coffee</li>
<li>javascript</li>
</ul>
<p>But if you don’t specify it, it will be auto detected based on the file extension
or the contents itself. See more info about each type at <a href="https://alinex.github.io/node-format">alinex-format</a>.</p>
<p><strong>Combine contents</strong></p>
<p>Use the <code>filter</code> path to only use a subset of the loaded structure and the
<code>path</code> to specify where it belongs to.</p>
<pre><code>filter: 'test'
path: 'database/test'
</code></pre>
<p>This will only use the <code>test</code> settings from the loaded data and put them into
<code>data.database.test</code>.</p>
<p>If multiple files are found (maybe through multiple origins) their contents
will be merged together in the order they are specified in the origin tree list.
This means that the later one will overwrite the earlier one if they have values
for the same element.</p>
<p><strong>Order</strong></p>
<p>The origin structure is a tree list which will be processed top down. This means
that you can add new origin objects at the top to use them as defaults or at
the end of the list to make this the highest priority.</p>
<div class="detail">
<p>In case of registering applications using <code>register()</code> they will add a sublist
with their search paths instead of an single entry. See more about this in the description below.</p>
</div>
<h3 id="extend-origin-list">Extend Origin List</h3>
<p>To maintain the order you can add at the front using <code>unshiftOrigin()</code> or at the
end using <code>pushOrigin()</code>.</p>
<h4 id="pushoriginconf">pushOrigin(conf)</h4>
<p>Add a new element to the origin list.</p>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>pushOrigin(conf)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>conf</code> - <code>Object</code> origin specification (see above)</li>
</ul>
</dd>
</dl>
<h4 id="unshiftoriginconf">unshiftOrigin(conf)</h4>
<p>Add a new element at the start of the origin list.</p>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>unshiftOrigin(conf)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>conf</code> - <code>Object</code> origin specification (see above)</li>
</ul>
</dd>
</dl>
<h3 id="registering-applications">Registering Applications</h3>
<p>An application have the possibility to search for their file based configuration
on multiple locations out of the box:</p>
<ul>
<li>var/src/config - defaults in the source code</li>
<li>var/local/config - local within the installed program</li>
<li>/etc/<app> - global for the application</li>
<li>~/.app/config - user specific settings</li>
</ul>
<p>As described above the last has the highest priority.</p>
<p>To support this in an easy way you may use the <code>register</code> method which if given
an application name and the app directory will do everything for you.</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code>config.register myapp, __dirname,</code>
<code>  uri: <span class="hljs-string">'*.yml'</span></code></pre>
<p>Like you see, you may also add the  attributes from the normal configuration
like <code>uri</code>, <code>filter</code> and <code>path</code>.</p>
<p>You may also register a module. Therefore give <code>null</code> as application name and
it will only add the first two paths based on the given directory.</p>
<p>If you won’t have your settings in the ‘config’ folder you may specify another
one using <code>folder: &quot;...&quot;</code> as additional parameter.</p>
<div class="info"><header>Info</header>
<p>The <strong>general</strong> search path ‘alinex’ for all Alinex applications is already set
after requiring config. This allows to always use the following folders if no other
ones are given:</p>
<ul>
<li>/etc/alinex</li>
<li>~/.alinex</li>
</ul>
</div>
<h4 id="registerapp-basedir-setup">register(app, basedir, setup)</h4>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>register(app, basedir, setup)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>app</code> - <code>String</code> optional name of the application (in the filesystem)</li>
<li><code>basedir</code> - <code>String</code> optional folder in which the application is installed</li>
<li><code>setup</code> - <code>Object</code> origin specification (see above)</li>
</ul>
</dd>
</dl>
<h2 id="setup-schema">Setup Schema</h2>
<p>The schema defines some validation and optimization rules which has to be
processed before using the values. If the validation fails it will return a
descriptive Error and don’t use the values.</p>
<h3 id="setschema">setSchema()</h3>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code>config.setSchema <span class="hljs-string">'/'</span>,</code>
<code>  type: <span class="hljs-string">'object'</span></code>
<code>  allowedKeys: <span class="hljs-literal">true</span></code>
<code>  keys:</code>
<code>    name:</code>
<code>      type: <span class="hljs-string">'string'</span></code>
<code>    job:</code>
<code>      type: <span class="hljs-string">'string'</span></code>
<code>, <span class="hljs-function"><span class="hljs-params">(err)</span> -&gt;</span></code>
<code>  <span class="hljs-comment"># go on and load the data</span></code></pre>
<p>To set a schema, give the root path for the schema and it’s values which describe
the concrete data format. The real validation is done using the
<a href="http://alinex.github.io/node-validator">Validator</a>. Therefore look at the
description there for all the possibilities you have.</p>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>setSchema(path, schema, cb)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>path</code> - <code>String</code> the configuration path to which the schema belongs to</li>
<li><code>schema</code> - <code>Object</code> the schema definition for <a href="https://alinex.github.io/node-validator">alinex-validator</a></li>
<li><code>cb</code> - <code>Function(Error)</code> optional callback to be called after set and loaded objects validated
with <code>Error</code> if validation failed</li>
</ul>
</dd>
<dt>See also</dt>
<dd>
<ul>
<li><a href="index.coffee.html#setschemasync" title="File: /home/alex/github/node-config/src/index.coffee Element: setSchemaSync"><code>setSchemaSync</code></a></li>
</ul>
</dd>
</dl>
<h3 id="setschemasync">setSchemaSync</h3>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code>config.setSchemaSync <span class="hljs-string">'/'</span>,</code>
<code>  type: <span class="hljs-string">'object'</span></code>
<code>  allowedKeys: <span class="hljs-literal">true</span></code>
<code>  keys:</code>
<code>    name:</code>
<code>      type: <span class="hljs-string">'string'</span></code>
<code>    job:</code>
<code>      type: <span class="hljs-string">'string'</span></code></pre>
<p>To set a schema, give the root path for the schema and it’s values which describe
the concrete data format. The real validation is done using the
<a href="http://alinex.github.io/node-validator">Validator</a>. Therefore look at the
description there for all the possibilities you have.</p>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>setSchemaSync(path, schema)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>path</code> - <code>String</code> the configuration path to which the schema belongs to</li>
<li><code>schema</code> - <code>Object</code> the schema definition for <a href="https://alinex.github.io/node-validator">alinex-validator</a></li>
</ul>
</dd>
<dt>Throws</dt>
<dd>
<ul>
<li><code>Error</code> if it could not be validated</li>
</ul>
</dd>
<dt>See also</dt>
<dd>
<ul>
<li><a href="index.coffee.html#setschema" title="File: /home/alex/github/node-config/src/index.coffee Element: setSchema()"><code>setSchema()</code></a></li>
</ul>
</dd>
</dl>
<h2 id="initialize">Initialize</h2>
<p>After everything is setup you have to call the <code>init()</code> method to initialize
it. This will:</p>
<ul>
<li>search for the configurations</li>
<li>load them</li>
<li>parse them</li>
<li>combine all together</li>
<li>check using schema</li>
</ul>
<p>After everything is done the given callback is called.</p>
<p>You may also call this method if you didn’t know if everything is initialized.
It will check and return immediately if nothing to do.</p>
<h3 id="init">init()</h3>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>init(cb)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>cb</code> - <code>Function(Error)</code> callback with <code>Error</code> on any problems</li>
</ul>
</dd>
<dt>See also</dt>
<dd>
<ul>
<li><a href="index.coffee.html#initsync" title="File: /home/alex/github/node-config/src/index.coffee Element: initSync"><code>initSync</code></a></li>
</ul>
</dd>
</dl>
<h3 id="initsync">initSync</h3>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>initSync</code></p>
</blockquote>
<dl class="api-spec">
<dt>Throws</dt>
<dd>
<ul>
<li><code>Error</code> on any problems</li>
</ul>
</dd>
<dt>See also</dt>
<dd>
<ul>
<li><a href="index.coffee.html#init" title="File: /home/alex/github/node-config/src/index.coffee Element: init()"><code>init()</code></a></li>
</ul>
</dd>
</dl>
<h2 id="reload">Reload</h2>
<p>It is also possible to reread all data sources and change the registry to the new
structure using the <a href="index.coffee.html#reload" title="File: /home/alex/github/node-config/src/index.coffee Element: reload()"><code>reload()</code></a> method.
This will do the same as the inital <a href="index.coffee.html#init" title="File: /home/alex/github/node-config/src/index.coffee Element: init()"><code>init()</code></a> already did.</p>
<h3 id="reload-2">reload()</h3>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>reload(cb)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>cb</code> - <code>Function(Error)</code> callback with <code>Error</code> on any problems</li>
</ul>
</dd>
<dt>See also</dt>
<dd>
<ul>
<li><a href="index.coffee.html#reloadsync" title="File: /home/alex/github/node-config/src/index.coffee Element: reloadSync"><code>reloadSync</code></a></li>
<li><a href="index.coffee.html#init" title="File: /home/alex/github/node-config/src/index.coffee Element: init()"><code>init()</code></a></li>
</ul>
</dd>
</dl>
<h3 id="reloadsync">reloadSync</h3>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>reloadSync(cb)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>cb</code> - <code>Function(Error)</code> callback with <code>Error</code> on any problems</li>
</ul>
</dd>
<dt>See also</dt>
<dd>
<ul>
<li><a href="index.coffee.html#reload" title="File: /home/alex/github/node-config/src/index.coffee Element: reload()"><code>reload()</code></a></li>
<li><a href="index.coffee.html#initsync" title="File: /home/alex/github/node-config/src/index.coffee Element: initSync"><code>initSync</code></a></li>
</ul>
</dd>
</dl>
<h2 id="access">Access</h2>
<p>After everything is setup and loaded you may access the values or part of the
value tree. You always get a reference for performance reasons. So don’t change
it’s content.</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code>conf = config.get()</code></pre>
<p>Thats a simple call to get the complete data structure.</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code>conf = config.get <span class="hljs-string">'server'</span></code>
<code>conf = config.get <span class="hljs-string">'database/master/address'</span></code></pre>
<p>Or give an path to get only a subpart of the configuration.</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code><span class="hljs-keyword">if</span> config.get(<span class="hljs-string">'server'</span>)?</code>
<code>  <span class="hljs-comment"># value found</span></code></pre>
<p>And at last you may check that a specific part is set.</p>
<h3 id="get">get()</h3>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>get(path)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>path</code> - <code>String</code> to the element to read</li>
</ul>
</dd>
<dt>Return</dt>
<dd>the value at this element position</dd>
</dl>
<h2 id="other-types">Other Types</h2>
<p>Beside configuration files you may also access templates or other user changeable
files in the same manner using such an search path.</p>
<p>Therefore you have to <a href="index.coffee.html#register" title="File: /home/alex/github/node-config/src/index.coffee Element: register()"><code>register()</code></a> an app with a type:</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code>config.register <span class="hljs-string">'alinex'</span>, <span class="hljs-literal">null</span>,</code>
<code>  folder: <span class="hljs-string">'template'</span></code>
<code>  type: <span class="hljs-string">'template'</span></code></pre>
<p>And later you may get all the possible files:</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code>config.typeSearch <span class="hljs-string">'template'</span>, <span class="hljs-function"><span class="hljs-params">(err, map)</span> -&gt;</span></code>
<code>  <span class="hljs-built_in">console</span>.log err, map</code></pre>
<p>You will get a map of files with</p>
<ul>
<li>key: path relative from the URI</li>
<li>value: absolute file path</li>
</ul>
<p>Web requests are not possible here.</p>
<h3 id="typesearch">typeSearch()</h3>
<p>Search for files of the given <code>type</code>. The resulting map contains the path relative
from the defined origin URI and the real path to access.</p>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>typeSearch(type, cb)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>type</code> - <code>String</code> the name of this files</li>
<li><code>cb</code> - <code>Function(Error, Object)</code> callback with the results map or an <code>Error</code> on any problems</li>
</ul>
</dd>
<dt>See also</dt>
<dd>
<ul>
<li><a href="index.coffee.html#typesearchsync" title="File: /home/alex/github/node-config/src/index.coffee Element: typeSearchSync"><code>typeSearchSync</code></a></li>
</ul>
</dd>
</dl>
<h3 id="typesearchsync">typeSearchSync</h3>
<p>Search for files of the given <code>type</code>. The resulting map contains the path relative
from the defined origin URI and the real path to access.</p>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>typeSearchSync(type)</code></p>
</blockquote>
<dl class="api-spec">
<dt>Parameter</dt>
<dd>
<ul>
<li><code>type</code> - <code>String</code> the name of this files</li>
</ul>
</dd>
<dt>Return</dt>
<dd><code>Object</code> the results map</dd>
<dt>Throws</dt>
<dd>
<ul>
<li><code>Error</code> on any problems</li>
</ul>
</dd>
<dt>See also</dt>
<dd>
<ul>
<li><a href="index.coffee.html#typesearch" title="File: /home/alex/github/node-config/src/index.coffee Element: typeSearch()"><code>typeSearch()</code></a></li>
</ul>
</dd>
</dl>
<h2 id="schema">Schema</h2>
<h3 id="originimportschema">originImportSchema</h3>
<p>The schema may be used to validate possible origins before use. This is only done
within the config module if debug is enabled.</p>
<blockquote>
<p class="api-usage"><strong>Usage:</strong> <code>originImportSchema</code></p>
</blockquote>
<h2 id="best-practice">Best Practice</h2>
<p>I often use the pattern of giving my modules two functions called setup() and init().
The setup() is first called to set up the basics like configuring the configuration
system.</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code><span class="hljs-comment"># set the modules config paths and validation schema</span></code>
<code>setup = util.function.once <span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-params">(cb)</span> -&gt;</span></code>
<code>  <span class="hljs-comment"># set module search path</span></code>
<code>  config.register <span class="hljs-literal">false</span>, fspath.dirname __dirname</code>
<code>  <span class="hljs-comment"># add schema for module's configuration</span></code>
<code>  config.setSchema <span class="hljs-string">'/exec'</span>, schema, cb</code></pre>
<p>The call of <code>util.function.once</code> will look that this method is only run one time (see
<a href="https://alinex.github.io/node-util">alinex-util</a>).</p>
<p>Now you may add additional configuration paths…</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code><span class="hljs-comment"># set the modules config paths, validation schema and initialize the configuration</span></code>
<code>init = util.function.once <span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-params">(cb)</span> -&gt;</span></code>
<code>  debug <span class="hljs-string">"initialize"</span></code>
<code>  <span class="hljs-comment"># set module search path</span></code>
<code>  @setup -&gt;</code>
<code>    <span class="hljs-keyword">return</span> cb err <span class="hljs-keyword">if</span> err</code>
<code>    config.init cb</code></pre>
<p>The init() method now makes the system ready to use and if not up to date or
initialized will initialize the config system. The setup() is also called to make
it possible to call in one step if no special configuration is needed.</p>
<h2 id="events">Events</h2>
<p>If you use the reload possibility, you may also add a function as listener which get
informed if a specific part in the value changed.</p>
<p>To do so you can listen to value changes using the common <code>on</code> or <code>once</code> methods:</p>
<pre class="language coffeescript"><header>CoffeeScript Code</header><code>config = <span class="hljs-built_in">require</span> <span class="hljs-string">'alinex-config'</span></code>
<code>...</code>
<code>config.<span class="hljs-literal">on</span> <span class="hljs-string">'/email'</span>, <span class="hljs-function">-&gt;</span></code>
<code>  <span class="hljs-comment"># what to do</span></code>
<code>config.<span class="hljs-literal">on</span> <span class="hljs-string">'/app/title'</span>, <span class="hljs-function">-&gt;</span></code>
<code>  <span class="hljs-comment"># change the title in the view</span></code></pre>
<p>Your event listener will get called if the given value or the data below was changed.
A reloading of the same value won’t count if the data keeps the same.</p>
</main>
        </div>
        <div class="col-sm-3 col-cm-pull-9 sidebar">
          <ul class="nav nav-sidebar">
            <li class="header">
              <a href="../README.md.html">Alinex Config</a>
            </li>
                <li class="level0">
                  <a href="../README.md.html" title="Alinex Config: Readme (/README.md)">Readme</a>
                </li>
                <li class="level1">
                  <a href="architecture.md.html" title="Architecture (/src/architecture.md)">Architecture</a>
                </li>
                <li class="active level0">
                  <a href="index.coffee.html" title="API Usage (/src/index.coffee)">API Usage <span class="sr-only">(current)</span></a>
                </li>
                <li class="level0">
                  <a href="../Changelog.md.html" title="Version changes (/Changelog.md)">Version changes</a>
                </li>
          </ul>
        </div>

      </div>
    </div>

    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script type="text/javascript"><!--
    $(".table-of-contents").bind("mouseleave", function(event) { $(".table-of-contents").scrollTop(0); });
    //--></script>
  </body>
</html>
